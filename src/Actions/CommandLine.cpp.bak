#include "CommandLine.h"

using namespace flame_ide;

CommandLine::CommandLine()
{
	//ctor
}

CommandLine::~CommandLine()
{
	//dtor
}

std::string
CommandLine::getOutput(std::string& command)
{
	FILE* pipe = popen(command.c_str(), "r");

	if (!pipe)
		return "ERROR";

	char buffer[32];
	std::string result = "";

    while(!feof(pipe))
	{
		if(fgets(buffer, 32, pipe) != NULL)
			result += buffer;
    }

    pclose(pipe);

    return result;
}

std::string
CommandLine::getOutput(std::string command)
{
	FILE* pipe = popen(command.c_str(), "r");

	if (!pipe)
		return "ERROR";

	char buffer[32];
	std::string result = "";

    while(!feof(pipe))
	{
		if(fgets(buffer, 32, pipe) != NULL)
			result += buffer;
    }

    pclose(pipe);

    return result;
}


std::string
CommandLine::getOutput(char* command)
{
	FILE* pipe = popen(command, "r");

	if (!pipe)
		return "ERROR";

	char buffer[32];
	std::string result = "";

    while(!feof(pipe))
	{
		if(fgets(buffer, 32, pipe) != NULL)
			result += buffer;
    }

    pclose(pipe);

    return result;
}
